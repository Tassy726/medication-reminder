<div class="form-container">
    <h2>{% if medicine %}薬の編集{% else %}薬の新規登録{% endif %}</h2>
    <form id="medicine-form" class="medicine-form" action="/manage_medicine" method="post">
        <input type="hidden" name="date" value="{{ date }}">
        {% if medicine %}
        <input type="hidden" name="id" value="{{ medicine.id }}">
        {% endif %}

        <div class="form-group">
            <label for="name">薬名:</label>
            <input type="text" id="name" name="name" value="{% if medicine %}{{ medicine.name }}{% endif %}" required>
        </div>

        <div class="form-group">
            <label for="start_date">服用開始日:</label>
            <input type="date" id="start_date" name="start_date" value="{% if medicine %}{{ medicine.start_date }}{% else %}{{ date }}{% endif %}" required>
        </div>

        <div class="form-group">
            <label for="end_date">服用終了日:</label>
            <input type="date" id="end_date" name="end_date" value="{% if medicine %}{{ medicine.end_date }}{% endif %}">
        </div>

        <div class="form-group">
            <label for="time">服用時間:</label>
            <input type="time" id="time" name="time" value="{% if medicine %}{{ medicine.time }}{% endif %}" required>
        </div>

        <div class="form-group">
            <label for="dose">服用量:</label>
            <input type="text" id="dose" name="dose" value="{% if medicine %}{{ medicine.dose }}{% endif %}">
        </div>

        <div class="form-group">
            <label for="notes">備考:</label>
            <textarea id="notes" name="notes">{% if medicine %}{{ medicine.notes }}{% endif %}</textarea>
        </div>

        <div class="form-actions">
            {% if medicine %}
            <button type="button" class="btn btn-danger" onclick="deleteMedicine()">削除</button>
            {% else %}
            <div></div>
            {% endif %}
            <button type="button" class="btn btn-back" onclick="showListView()">キャンセル</button>
            <button type="submit" class="btn btn-primary">{% if medicine %}編集{% else %}登録{% endif %}</button>
        </div>
    </form>
</div>
